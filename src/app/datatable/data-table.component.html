<div class="mt">
  <div class="table-container mat-elevation-z8">
    <perfect-scrollbar class="scrollbar" [style.display]="loading ? 'none':''" [autoPropagation]="true">
    <table mat-table [dataSource]="passages">

      <!-- Number Column -->
      <ng-container matColumnDef="N">
        <th mat-header-cell *matHeaderCellDef> &#8470; </th>
        <td mat-cell *matCellDef="let element"> #{{element.id}} </td>
      </ng-container>

      <!-- Question Column -->
      <ng-container matColumnDef="Question">
        <th mat-header-cell *matHeaderCellDef> Question </th>
        <td mat-cell *matCellDef="let element"> {{element.readingTitle}} </td>
      </ng-container>

      <!-- Score Column -->
      <ng-container matColumnDef="Score">
        <th mat-header-cell *matHeaderCellDef> Score </th>
        <td mat-cell *matCellDef="let element">
          <span *ngIf="element.score == -1">N/A</span>
          <span *ngIf="element.score != -1">{{element.score}}</span>
        </td>
      </ng-container>

      <!-- Action Column -->
      <ng-container matColumnDef="Action">
        <th mat-header-cell *matHeaderCellDef> Action </th>
        <td mat-cell *matCellDef="let element">
          <button *ngIf="element.score == -1" class="btn btn-sm" style="font-size: 20px" [routerLink]="['/reading-task/', element.id, element.score]">Start</button>
          <button *ngIf="element.score != -1" class="btn btn-sm" style="font-size: 20px">Review</button>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: false" class="datatable-header"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;" class="datatable-class"></tr>
    </table>
    </perfect-scrollbar>
    <!--Spinner-->
    <mat-card *ngIf="loading"
              style="display: flex; justify-content: center; align-items: center; height: 100%;">
      <mat-progress-spinner
        color="#5B5EA6"
        mode="indeterminate">
      </mat-progress-spinner>
    </mat-card>
  </div>
</div>
